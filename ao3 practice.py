import csv
import pandas as pd

full_dictionary = [{'work_id': 'bananas', 'user_id': 'user-2878526', 'title': 'All the Young Dudes', 'username': 'MsKingBean89', 'fandoms': ['Harry Potter - J. K. Rowling'], 'rating': 'Mature', 'warnings': ['No Archive Warnings Apply', 'Major Character Death', 'Graphic Depictions Of Violence'], 'slash_categories': ['M/M'], 'status': 'Complete Work', 'date_updated': '12 Nov 2018', 'relationships': ['Sirius Black/Remus Lupin', 'Sirius Black & Remus Lupin', 'James Potter/Lily Evans Potter'], 'characters': ['Remus Lupin', 'Sirius Black', 'James Potter', 'Lily Evans Potter', 'Peter Pettigrew', 'Severus Snape', 'Minerva McGonagall', 'Bellatrix Black Lestrange', 'Narcissa Black Malfoy', 'Albus Dumbledore', 'Mulciber Sr. (Harry Potter)', 'Horace Slughorn', 'Mary Macdonald', 'Marlene McKinnon', 'Poppy Pomfrey', 'Walburga Black', 'Regulus Black', 'Fenrir Greyback'], 'freeforms': ["Marauders' Era", 'Marauders', 'Marauders Friendship', 'wolfstar', 'Get Together', 'Slow Burn', 'so slow', "it's slow", 'seriously', 'Complete', 'Canon Compliant', 'Angst', 'Fluff', 'Fluff and Angst', 'Requited Love', 'Canonical Character Death', 'First War with Voldemort', 'First Kiss'], 'summary': 'No summary', 'language': 'English', 'words': 526969, 'chapters': '188/188', 'comments': 26404, 'kudos': 118348, 'bookmarks': 24188, 'hits': 7967533}, {'work_id': 'work_28755084', 'user_id': 'user-1812475', 'title': 'passerine', 'username': 'blujamas', 'fandoms': ['Dream SMP'], 'rating': 'Teen And Up Audiences', 'warnings': ['Major Character Death', 'Graphic Depictions Of Violence'], 'slash_categories': ['Gen'], 'status': 'Complete Work', 'date_updated': '09 Apr 2021', 'relationships': ['Wilbur Soot & Technoblade', 'Technoblade & Phil Watson (Video Blogging RPF)', 'Technoblade & TommyInnit (Video Blogging RPF)', 'Wilbur Soot & Technoblade & TommyInnit & Phil Watson', 'Wilbur Soot & TommyInnit'], 'characters': ['Wilbur Soot', 'Phil Watson (Video Blogging RPF)', 'Technoblade (Video Blogging RPF)', 'TommyInnit (Video Blogging RPF)', 'Cara | CaptainPuffy', 'Niki | Nihachu', 'Toby Smith | Tubbo', 'Sapnap (Video Blogging RPF)'], 'freeforms': ['Alternate Universe - Royalty', 'Found Family', 'But make it', 'Angst', 'Sleepy Bois Inc. (Video Blogging RPF) - Freeform', 'tommy and wilbur are princes and technoblade is a feral god that philza picked up from the woods', 'thats it thats the fic', "mentions of techno's voices", 'wilbur also has voices', 'techno decides to help', 'because he has nothing better to do or so he says', 'no beta we die like lmanberg', 'Hurt/Comfort', 'Character Death'], 'summary': 'No summary', 'language': 'English', 'words': 76375, 'chapters': '7/7', 'comments': 5918, 'kudos': 80683, 'bookmarks': 16166, 'hits': 2854993}, {'work_id': 'work_15050096', 'user_id': 'user-4216305', 'title': 'Illuminate', 'username': 'jiminieheart', 'fandoms': ['방탄소년단 | Bangtan Boys | BTS'], 'rating': 'Explicit', 'warnings': ['No Archive Warnings Apply'], 'slash_categories': ['M/M'], 'status': 'Complete Work', 'date_updated': '25 Jun 2021', 'relationships': ['Jeon Jungkook/Park Jimin', 'Jung Hoseok | J-Hope/Kim Taehyung | V', 'Kim Namjoon | RM/Kim Seokjin | Jin', 'OT7 friendship - Relationship', 'Jung Hoseok | J-Hope/Kim Taehyung | V/Min Yoongi | Suga'], 'characters': ['Jeon Jungkook', 'Park Jimin (BTS)', 'Kim Taehyung | V', 'Jung Hoseok | J-Hope', 'Min Yoongi | Suga', 'Kim Seokjin | Jin', 'Kim Namjoon | RM'], 'freeforms': ['Alternate Universe', 'First Time', 'Slow Burn', 'Shy Park Jimin', 'Cute Park Jimin', 'Jeon Jungkook is Bad at Feelings', 'Kissing', 'Blow Jobs', 'Masturbation', 'Dry Humping', 'Anal Fingering', 'Anal Sex', 'Dirty Talk', 'Top Jeon Jungkook', 'Bottom Park Jimin', 'Multiple Orgasms', 'Overstimulation', 'Kim Taehyung | V & Park Jimin are Best Friends', 'OT7 Friendship', 'Other Additional Tags to Be Added', 'Strangers to Lovers', 'Homophobia', 'Verbal/Mental Abuse', 'Romantic Comedy', 'Slow Build', 'Fluff', 'Explicit Sexual Content', 'Minor Violence', 'Slight Panic Attack', 'Angst', 'Spanking', 'Aftercare', 'Bondage', 'Edgeplay', 'Riding', 'Strength Kink', 'Praise Kink', 'Sexting', 'Phone Sex', 'Dom/sub Undertones', 'Sex Toys', 'Vibrators', 'Orgasm Delay/Denial', 'Blood and Violence', 'Implied/Referenced Sexual Assault', 'Rimming', 'Family Drama', 'Face-Sitting', 'Collars', 'mention of rape', 'Mirror Sex', 'Butt Plugs', 'Discipline', 'Punishment', 'kind of semi-public sex', 'Safeword Use', '69 (Sex Position)', 'Cock Slapping', 'Blindfolds', 'Lingerie', 'Lace Panties', 'Nipple Play', 'mention of domestic abuse', 'mafia', 'Guns', 'polyamory but not jikook', 'Mention of Daddy Kink', 'Hyung Kink', 'Bathroom Sex', 'Creampie', 'Wall Sex', 'Rough Sex', 'Neck Kissing', 'Hair-pulling', 'Comeplay', 'Teasing', 'Begging', 'Oral Sex', 'Rough Oral Sex', 'Foreplay', 'Pet Names', 'Face-Fucking', 'Come Shot', 'Come Swallowing', 'First Love', 'Angst with a Happy Ending', 'cheating? but not jikook', 'Verbal Humiliation', 'Sexual Assault', 'Attempted Sexual Assault', 'Choking', 'Attempted Rape/Non-Con', 'Threats of Rape/Non-Con', 'Character Death', 'Minor Character Death', 'Car Sex', 'mention of shibari'], 'summary': 'No summary', 'language': 'English', 'words': 1221767, 'chapters': '59/59', 'comments': 8352, 'kudos': 21096, 'bookmarks': 4089, 'hits': 1413296}, {'work_id': 'work_11427771', 'user_id': 'user-1686089', 'title': '【贺红】饲狼[ABO]（三十一）（肉慎）（和谐部分）', 'username': 'Andrewrain', 'fandoms': ['有不良信息 慎入'], 'rating': 'Teen And Up Audiences', 'warnings': ['Choose Not To Use Archive Warnings'], 'slash_categories': ['Other'], 'status': 'Complete Work', 'date_updated': '07 Jul 2017', 'relationships': [], 'characters': ['贺天 莫关山'], 'freeforms': [], 'summary': 'No summary', 'language': '中文-普通话 國語', 'words': 4411, 'chapters': '1/1', 'comments': 2, 'kudos': 5876, 'bookmarks': 3, 'hits': 1404968}]

def save_dictionary():
    col_name = full_dictionary[0].keys()
    with open("ao3_top_100_hits.csv", 'w') as ao3_top_100_hits:
        wr = csv.DictWriter(ao3_top_100_hits, fieldnames=col_name)
        wr.writeheader()
        for ele in full_dictionary:
            wr.writerow(ele)

# save_dictionary()

# df = pd.read_csv("ao3_top_100_hits.csv") 
   
# output the dataframe
# print(df)